@*
For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="admin-panel">
    <div class="admin-panel-header">
        <h3 style="margin:0px">Ongoing Orders</h3>
    </div>
    <br />
    <div>
        <div class="form-inline" style="float: right;">
            <label>Search :</label> &nbsp;
            <input type="text" id="OngoingSearch" />
        </div>
        <br />
        <br />
        <div id="OngoingOrder">
        </div>
    </div>
</div>

<div class="admin-panel">
    <div class="admin-panel-header">
        <h3 style="margin:0px">Completed Orders</h3>
    </div>
    <br />
    <div>
        <div class="form-inline" style="float: right;">
            <label>Search :</label> &nbsp;
            <input type="text" id="CompleteSearch" />
        </div>
        <br />
        <br />
        <div id="CompleteOrder">
        </div>
    </div>
</div>
<br />
<br />

<script src="~/lib/jquery/dist/jquery.js" type="text/javascript"></script>
<script>
    $(() => {
        getOngoingOrder();
        getCompleteOrder();
        $('#OngoingSearch').on('keyup', () => {
            getPendingOrder();
        });
        $('#CompleteSearch').on('keyup', () => {
            getCompleteOrder();
        });
    });

    function getPendingOrder() {
        $.ajax({
            url: '@Url.Action("SearchOngoingOrder", "AdminDashboard")',
            datatype: 'html',
            method: 'GET',
            data: { SearchText: $('#OngoingSearch').val() },
            success: function (res) {
                $('#OngoingOrder').html(res);
            },
            error: function (err) {
                console.log(err);
            }
        })
    }

    function getCompleteOrder() {
        $.ajax({
            url: '@Url.Action("SearchCompleteOrder", "AdminDashboard")',
            datatype: 'html',
            method: 'GET',
            data: { SearchText: $('#CompleteSearch').val() },
            success: function (res) {
                $('#CompleteOrder').html(res);
            },
            error: function (err) {
                $('#CompleteOrder').html($('#CompleteSearch').val());
                console.log(err);
            }
        })
    }
</script>